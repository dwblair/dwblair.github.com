<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>donblog -  OLM Notes</title>
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
    </head>
    <body>
        <div id="header">
            <div id="logo">
                <!--<a href="/">A web presence.</a>-->
            </div>
            <div id="navigation">
                <a href="../">Home</a>
                <!--<a href="/about.html">About</a>-->
                <!--<a href="/contact.html">Contact</a>-->
                <a href="../archive.html">Archive</a>
            </div>
        </div>

        <div id="content">
            <h1>OLM Notes</h1>

            <div class="info">Posted on April 23, 2013</div>
<img src="../images/olmbreadboard.png" height="300">
<h3 id="breadboarding">Breadboarding</h3>
<p>Todd and I put together the basic schematic from a Jeenode on a breadboard. Uses FTDI, just like the Jeenode. The next step is to see if we can add Ethernet, as per the Ethercard library / hardware that Jeenode uses.</p>
<p>Meanwhile, I added on a humidity sensor, a pressure sensor (both of which yield temperature, too), and an OLED display, just to pay around. Further – the OLED uses an SPI interface, which is part of the “OLM Connector” we’re hoping to design – so that’s a nice thing to see up and running, too.</p>
<p>Oddly, our 3.3V LDO chip was giving 1.8V. Doesn’t seem like a problem with the wiring … seems like we might’ve just been shipped the wrong part. Looking into that.</p>
<p>A nice description of JeeNode v6 (upon which much of our schematic will be based) is <a href="http://jeelabs.net/projects/hardware/wiki/JeeNode">here</a>. A pdf of the schematic is <a href="http://jeelabs.net/attachments/download/331/jlpcb-128.pdf">here</a>. He has also put together a nice discussion of the mappings of various Arduino pins onto ports on the JeeNode, and etc, <a href="http://jeelabs.org/2011/11/10/pins-damned-pins-and-jeenodes/">here</a></p>
<p>Ben Gamari has a fantastic skeleton project useful for creating a gEDA schematic from scratch <a href="https://github.com/bgamari/skeleton-geda-project/blob/master/README.mkd">here</a>.</p>
<div class="figure">
<img src="../images/olmv6.png" alt="Fig 1: Working on the shematic, borrowing liberally from the JeeNode …" /><p class="caption">Fig 1: Working on the shematic, borrowing liberally from the JeeNode …</p>
</div>
<p>Note – the JeeNode USB has an on-board Li-Poly battery controller, too! Use these for inspiration. JeeNode USB is <a href="http://jeelabs.net/projects/hardware/wiki/JeeNode_USB">here</a></p>
<p>Official description of the JeeNode Ethercard hardware design (with schematics) <a href="http://jeelabs.net/projects/hardware/wiki/Ether_Card">here</a>.</p>
<p>Open Sprinkler (which uses same ethernet controller chip) schematic is <a href="http://rayshobby.net/?page_id=211#v142&gt;v1.42u&lt;/a&gt;&lt;/b&gt;%20PCB%20date:%20Mar%202013&lt;/li&gt;&lt;li&gt;&lt;b&gt;&lt;a%20href=">here</a>; a full list of schematics and parts is <a href="http://rayshobby.net/?page_id=211">here</a>.</p>
<p>Really Bare Bones Board schematic is <a href="http://cdn.shopify.com/s/files/1/0038/9582/files/RBBB_Instructions_06.pdf">here</a></p>
<h3 id="next-steps">Next steps</h3>
<ul>
<li>Ethernet</li>
<li>OLM connectors</li>
<li>Power supply</li>
<li>a schematic produced using gEDA</li>
<li>make an atmega328p part</li>
</ul>
<p>Hobbytronics has a nice pin layout diagram (with mappings onto the Arduino pins) for the ATmega328 <a href="http://www.hobbytronics.co.uk/arduino-atmega328-pinout">here</a>.</p>
<p>Nice ‘connector library’ of footprints for gEDA <a href="http://www.gedasymbols.org/footprints/m4lib.cgi?connector">here</a>.</p>
<p>The 5x2 footprint for a connector is <a href="http://www.gedasymbols.org/footprints/m4lib/CONNECTOR%205%202.fp">here</a>.</p>
<p>And trying to figure out what to design into version one. Since the first application is likely to be a monitoring application in the lab, maybe we’ll just build ethernet directly on. But in anticipation of field nodes and monitors, ethernet might be best on an external board … we’ll see.</p>
<p>Meanwhile: I’d been working in Michele’s lab, and changed over all the monitors from uploading to COSM to uploading to ThingSpeak instead. Oddly, all of the feeds seem to cut out after around 2 or 3 hours of uploading every 15 seconds. One theory is that the ethernet resets for some reason (e.g., is unable to register, and thus resets itself, as per dictated in the firware we’ve written), and then attempts to send a packet immediately upon reset – which might then arrive at a time within the minimum interval that ThingSpeak allows for updates. In any case, Ian had a brilliant suggestion: independently write updates to a log file on another server. This will allow us to debug our current system more easily, but it’ll also be a nice little demo system for logging data on our own servers (in anticipation of some use-cases which might be better served by a full-fledged HDF5 implementation, say). Looking into that …</p>
<br>
<hr>
<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'donblairblog'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


<!-- google analytics
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-39933243-1', 'github.io');
  ga('send', 'pageview');

</script>
-->

        </div>
<!--        <div id="footer">
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </div>-->
    </body>
</html>
